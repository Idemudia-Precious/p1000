(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{1137:function(t,e,n){var i=n(1174);"string"==typeof i&&(i=[[t.i,i,""]]);var a={insert:"head",singleton:!1};n(23)(i,a);i.locals&&(t.exports=i.locals)},1138:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return t&&"@@redux/INIT"===t.type?"initialState argument passed to createStore":"previous state received by the reducer"},t.exports=e.default},1174:function(t,e,n){(t.exports=n(22)(!1)).push([t.i,".ActivityFrame{border-right:1px solid #dfdfdf;height:100%;padding-top:40px;position:absolute;width:100%}.ActivityFrame__header{background:#f7f7f7;border-bottom:1px solid #dfdfdf;display:flex;height:40px;margin:0;padding-left:15px;position:absolute;top:0;left:0;right:0}.ActivityFrame__submit-button{margin-top:3px}.ActivityFrame__dueDate-button{margin:8px 10px}.ActivityFrame__dueDate-button .btn-dueDate{width:100px;padding:2px 0;background-color:#575757;border-color:#454545;font-size:13px;color:#fff}.ActivityFrame__title{color:#3f3f3f;flex-grow:1;font-family:inherit;font-size:15px;font-weight:normal;line-height:40px;margin:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.ActivityFrame__tooltip{margin-top:-10px !important}.ActivityFrame__icon{border:0;background:none;box-shadow:0 0 0 !important;color:#727272;cursor:pointer;flex-shrink:0;height:39px;line-height:40px;padding:0;text-align:center;width:40px}.ActivityFrame__icon:hover,.ActivityFrame__icon:active,.ActivityFrame__icon:focus{background:#dfdfdf;color:#3f3f3f;text-decoration:none}.ActivityFrame__icon--download{font-size:18px}.ActivityFrame__icon--info{font-size:18px}@media (max-width: 830px){.ActivityFrame__icon--large-screen{display:none}}.ActivityFrame.is-hidden{display:none}.ActivityFrame__iFrame{border:0;height:100%;width:100%}.ActivityFrame .dropdown-menu{font-size:13px;margin-top:3px;padding:10px;right:-1px}.ActivityFrame__download-button{position:absolute;right:10px;top:50px}\n",""])},1175:function(t,e,n){var i=n(1176);"string"==typeof i&&(i=[[t.i,i,""]]);var a={insert:"head",singleton:!1};n(23)(i,a);i.locals&&(t.exports=i.locals)},1176:function(t,e,n){(t.exports=n(22)(!1)).push([t.i,".ActivityAttempt{align-items:center;display:flex}@media (max-width: 600px){.ActivityAttempt{flex-wrap:wrap;justify-content:space-around}}.ActivityAttempt__attempt{flex-grow:1}@media (max-width: 600px){.ActivityAttempt__attempt{margin-bottom:10px;width:100%}}.ActivityAttempt__score{flex-grow:1;padding:0 10px;white-space:nowrap}.ActivityAttempt__score--deleted{text-decoration:line-through}.ActivityAttempt__btn{font-size:14px;padding:.4em 10px}@media (max-width: 600px){.ActivityAttempt__btn{padding:.4em 2em}}\n",""])},1177:function(t,e,n){var i=n(1178);"string"==typeof i&&(i=[[t.i,i,""]]);var a={insert:"head",singleton:!1};n(23)(i,a);i.locals&&(t.exports=i.locals)},1178:function(t,e,n){(t.exports=n(22)(!1)).push([t.i,".ActivityStatusChip{background:#727272;border-radius:3px;color:#fff;display:inline-block;font-size:12px;font-weight:bold;margin-right:10px;padding:2px 7px}.ActivityStatusChip--Submitted{background:#3a8200}.ActivityStatusChip--Late{background:#e70000}.ActivityStatusChip--Closed{background:#727272}.ActivityStatusChip--NotStarted{background:#727272}.ActivityStatusChip--InProgress{background:#006298}.ActivityStatusChip--DueSoon{background:#ffc72c;color:#3f3f3f}\n",""])},1179:function(t,e,n){var i=n(1180);"string"==typeof i&&(i=[[t.i,i,""]]);var a={insert:"head",singleton:!1};n(23)(i,a);i.locals&&(t.exports=i.locals)},1180:function(t,e,n){(t.exports=n(22)(!1)).push([t.i,'.ActivityGradingAttribute--COUNTS_TO_GRADE_LABEL{display:block;font-size:12px;line-height:20px;margin-top:10px;text-transform:uppercase}.ActivityGradingAttribute--COUNTS_TO_GRADE_LABEL .attr_symbol{background:#fa6600;border-radius:50%;color:#fff;display:inline-block;font-size:10px;font-weight:bold;height:20px;margin-right:10px;text-align:center;width:20px}.ActivityGradingAttribute--COUNTS_TO_GRADE_LABEL .attr_symbol::before{content:"G"}.ActivityGradingAttribute--PRACTICE_LABEL{display:block;font-size:12px;line-height:20px;margin-top:10px;text-transform:uppercase}.ActivityGradingAttribute--PRACTICE_LABEL .attr_symbol{background:#727272;border-radius:50%;color:#fff;display:inline-block;font-size:10px;font-weight:bold;height:20px;margin-right:10px;text-align:center;width:20px}.ActivityGradingAttribute--PRACTICE_LABEL .attr_symbol::before{content:"P"}.ActivityGradingAttribute--MANUALLY_GRADED_LABEL{display:block;font-size:12px;line-height:20px;margin-top:10px;text-transform:uppercase}.ActivityGradingAttribute--MANUALLY_GRADED_LABEL .attr_symbol{background:#fa6600;border-radius:50%;color:#fff;display:inline-block;font-size:10px;font-weight:bold;height:20px;margin-right:10px;text-align:center;width:20px}.ActivityGradingAttribute--MANUALLY_GRADED_LABEL .attr_symbol::before{content:"M"}.ActivityGradingAttribute--LATE_SUBMISSION_LABEL{display:block;font-size:12px;line-height:20px;margin-top:10px;text-transform:uppercase}.ActivityGradingAttribute--LATE_SUBMISSION_LABEL .attr_symbol{background:#00a9e0;border-radius:50%;color:#fff;display:inline-block;font-size:10px;font-weight:bold;height:20px;margin-right:10px;text-align:center;width:20px}.ActivityGradingAttribute--LATE_SUBMISSION_LABEL .attr_symbol::before{content:"L"}.ActivityGradingAttribute--CREDIT_NO_LABEL{display:block;font-size:12px;line-height:20px;margin-top:10px;text-transform:uppercase}.ActivityGradingAttribute--CREDIT_NO_LABEL .attr_symbol{background:#006298;border-radius:50%;color:#fff;display:inline-block;font-size:10px;font-weight:bold;height:20px;margin-right:10px;text-align:center;width:20px}.ActivityGradingAttribute--CREDIT_NO_LABEL .attr_symbol::before{content:"C"}\n',""])},1181:function(t,e,n){var i=n(1182);"string"==typeof i&&(i=[[t.i,i,""]]);var a={insert:"head",singleton:!1};n(23)(i,a);i.locals&&(t.exports=i.locals)},1182:function(t,e,n){(t.exports=n(22)(!1)).push([t.i,".ActivityOverview{height:100%;overflow-y:auto}.ActivityOverview__tabs{align-items:flex-end;background:#003865;display:flex;height:55px;justify-content:center;text-align:center}.ActivityOverview__tab{font-size:15px}.ActivityOverview__tab>.active a{color:#3f3f3f}.ActivityOverview__tab>a{color:#fff}.ActivityOverview__tab>a:focus,.ActivityOverview__tab>a:hover{color:#3f3f3f}.ActivityOverview__main{margin:20px auto 0;max-width:660px;padding:10px}@media (max-width: 600px){.ActivityOverview__main{padding-bottom:0}}.ActivityOverview__inProgress{color:#3a8200;font-size:12px;font-weight:bold;text-transform:uppercase}.ActivityOverview__header{color:#3f3f3f;font-family:open-sans, Helvetica, sans-serif;font-size:20px;font-weight:600;line-height:25px;margin:15px 0 10px}.ActivityOverview__subheading{color:#3f3f3f;font-family:open-sans, Helvetica, sans-serif;font-size:15px;font-weight:bold;line-height:22px;margin:0}.ActivityOverview__endDate{color:#575757;font-size:15px}.ActivityOverview__gradingRow{align-items:flex-end;display:flex;margin:20px 0}.ActivityOverview__gradingAttributes{flex-grow:1}.ActivityOverview__action{margin-top:10px;text-align:right}@media (max-width: 600px){.ActivityOverview__action{display:none}}.ActivityOverview__action--bottom{display:none}.ActivityOverview__action--bottom::after{background:linear-gradient(to bottom, rgba(125,185,232,0) 0%, #fff 100%);content:'';display:block;height:20px;left:0;position:absolute;right:0;top:-20px}@media (max-width: 600px){.ActivityOverview__action--bottom{bottom:0;background:#fff;display:block;left:0;padding:10px 0;position:sticky;right:0}}.ActivityOverview__description{margin:20px 0}.ActivityOverview__info{margin:30px 0}.ActivityOverview__infoRow{align-items:center;border-bottom:1px solid #dfdfdf;display:flex;padding:10px 0}.ActivityOverview__infoCol--label{color:#575757;flex-grow:1;font-size:12px}.ActivityOverview__infoCol--label strong{color:#3f3f3f;display:block;text-transform:uppercase}.ActivityOverview__infoCol--content{color:#727272;flex-grow:0;font-size:15px}.ActivityOverview__infoCol--content strong{color:#3f3f3f}.ActivityOverview__infinity{font-size:25px;line-height:12px;position:relative;top:5px}.ActivityOverview__attemptsHistory{margin-top:30px}.ActivityOverview__list{border:1px solid #ddd;border-radius:3px;list-style:none;margin:5px 0 30px;padding:0}.ActivityOverview__item{border-bottom:1px solid #ddd;font-size:15px;padding:10px 15px}.ActivityOverview__item:last-of-type{border:0}.ActivityOverview__btnLink{background:none;border:0;color:#006298;padding:0}.ActivityOverview__btnLink:hover,.ActivityOverview__btnLink:focus{color:#003865}.ActivityOverview__viewAll{padding:0 10px}.ActivityOverview__empty{color:#727272;font-style:italic}.ActivityOverview__iconInfo{padding-left:30px;display:block;font-size:12px;line-height:20px}.ActivityOverview__passwordAttribute{display:flex;align-items:center;margin-top:10px}.ActivityOverview__passwordIcon>svg{width:20px;height:20px}.ActivityOverview__passwordInfo{font-size:12px;line-height:20px;margin-left:10px;text-transform:uppercase}\n",""])},1183:function(t,e,n){var i=n(1184);"string"==typeof i&&(i=[[t.i,i,""]]);var a={insert:"head",singleton:!1};n(23)(i,a);i.locals&&(t.exports=i.locals)},1184:function(t,e,n){(t.exports=n(22)(!1)).push([t.i,".DueDateAlert{position:absolute;top:50px;right:10px}@media (max-width: 600px){.DueDateAlert{right:0}}.DueDateAlert__alert{width:290px;padding:15px 20px 15px 15px}@media (max-width: 600px){.DueDateAlert__alert{margin:0 auto;width:95%}}.DueDateAlert__alert .close{position:relative;right:-10px;font-size:26px}\n",""])},1185:function(t,e,n){var i=n(1186);"string"==typeof i&&(i=[[t.i,i,""]]);var a={insert:"head",singleton:!1};n(23)(i,a);i.locals&&(t.exports=i.locals)},1186:function(t,e,n){(t.exports=n(22)(!1)).push([t.i,".AActivityOverview__body{padding-top:10px;text-align:center}.AActivityOverview__box{background:#fff;border:1px solid #dfdfdf;box-shadow:0 1px 3px 0 rgba(0,0,0,0.15);display:inline-block;margin:20px;padding:10px 20px;text-align:center}.AActivityOverview__label{color:#727272;font-size:14px;font-weight:700;margin:0 0 5px;text-transform:uppercase}.AActivityOverview__score{font-size:20px;font-weight:600;line-height:1}\n",""])},1187:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.combineReducers=void 0;var i,a=n(1188),r=(i=a)&&i.__esModule?i:{default:i};e.combineReducers=r.default},1188:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,a=n(1097),r=(i=a)&&i.__esModule?i:{default:i},o=n(1189);e.default=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.default.Map,n=Object.keys(t);return function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e(),a=arguments[1];return i.withMutations((function(e){n.forEach((function(n){var i=(0,t[n])(e.get(n),a);(0,o.validateNextState)(i,n,a),e.set(n,i)}))}))}},t.exports=e.default},1189:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.validateNextState=e.getUnexpectedInvocationParameterMessage=e.getStateName=void 0;var i=o(n(1138)),a=o(n(1190)),r=o(n(1191));function o(t){return t&&t.__esModule?t:{default:t}}e.getStateName=i.default,e.getUnexpectedInvocationParameterMessage=a.default,e.validateNextState=r.default},1190:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(n(1097)),a=r(n(1138));function r(t){return t&&t.__esModule?t:{default:t}}e.default=function(t,e,n){var r=Object.keys(e);if(!r.length)return"Store does not have a valid reducer. Make sure the argument passed to combineReducers is an object whose values are reducers.";var o=(0,a.default)(n);if(i.default.isImmutable?!i.default.isImmutable(t):!i.default.Iterable.isIterable(t))return"The "+o+' is of unexpected type. Expected argument to be an instance of Immutable.Collection or Immutable.Record with the following properties: "'+r.join('", "')+'".';var c=t.toSeq().keySeq().toArray().filter((function(t){return!e.hasOwnProperty(t)}));return c.length>0?"Unexpected "+(1===c.length?"property":"properties")+' "'+c.join('", "')+'" found in '+o+'. Expected to find one of the known reducer property names instead: "'+r.join('", "')+'". Unexpected properties will be ignored.':null},t.exports=e.default},1191:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n){if(void 0===t)throw new Error('Reducer "'+e+'" returned undefined when handling "'+n.type+'" action. To ignore an action, you must explicitly return the previous state.')},t.exports=e.default},1467:function(t,e,n){"use strict";n.r(e);var i=n(0),a=n.n(i),r=n(273),o=n.n(r),c=n(24),s=n.n(c),l=n(6),u=n.n(l),p=n(1088),d=n(1095),v=n(104);n(1137);function m(t){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function f(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function y(t,e){return!e||"object"!==m(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function b(t,e){return(b=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var A=["doc","docx","xls","xlsx","ppt","pptx"],g=function(t){function e(){var t,n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(n=y(this,(t=h(e)).call.apply(t,[this].concat(r)))).renderDueDateTimeButton=function(){var t=n.props,e=t.isShowedDueDateTimeMessage,i=t.formattedEndDate;if(e){var r=i.slice(0,i.lastIndexOf(" "));return a.a.createElement("div",{className:"ActivityFrame__dueDate-button"},a.a.createElement("button",{className:"btn btn-dueDate btn-sm",onClick:n.props.toggleDueDateReminders},"Due ".concat(r)))}},n}var n,i,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&b(t,e)}(e,t),n=e,(i=[{key:"shouldDownloadButtonRender",value:function(){return!!this.props.downloadLink&&!new RegExp(".+\\.(".concat(A.join("|"),")\\??"),"i").test(this.props.downloadLink)}},{key:"renderDownloadButton",value:function(){if(this.shouldDownloadButtonRender()){var t=a.a.createElement(p.a,{className:"ActivityFrame__tooltip",id:"downloadButton"},"Download");return a.a.createElement(d.a,{key:"downloadButton",overlay:t,placement:"bottom"},a.a.createElement("a",{"aria-label":"Download",className:"ActivityFrame__icon ActivityFrame__icon--download",href:this.props.downloadLink,role:"button",tabIndex:"0"},a.a.createElement("span",{className:"icon-download2"})))}return null}},{key:"renderExpandButton",value:function(){if(this.props.isExpandEnabled){var t=u()({"icon-shrink":this.props.isFullScreen,"icon-enlarge":!this.props.isFullScreen});return a.a.createElement("button",{className:"ActivityFrame__icon ActivityFrame__icon--large-screen",type:"button",onClick:this.props.onExpand},a.a.createElement("span",{className:t}))}return null}},{key:"renderSubmitButton",value:function(){return this.props.showSubmit&&a.a.createElement("div",{className:"ActivityFrame__submit-button"},a.a.createElement("button",{className:"btn btn-primary btn-sm",onClick:this.props.onSubmitAssignableActivity},"Submit Activity"))}},{key:"renderActivityOverviewButton",value:function(){return this.props.activityHasCommentsOrAttempts?a.a.createElement("button",{"aria-label":"Activity information",className:"ActivityFrame__icon ActivityFrame__icon--info",type:"button",onClick:this.props.onShowActivityOverviewPage},a.a.createElement("span",{className:"icon-info"})):null}},{key:"render",value:function(){var t=Object(v.unescapeHtml)(this.props.title);return a.a.createElement("div",{className:"ActivityFrame__header",id:this.props.id},a.a.createElement("h2",{tabIndex:"-1",ref:this.props.activityHeaderRef,className:"ActivityFrame__title",dangerouslySetInnerHTML:{__html:" ".concat(this.props.title)}}),this.renderDueDateTimeButton(),this.renderDownloadButton(),this.renderExpandButton(),this.renderSubmitButton(),this.renderActivityOverviewButton(),a.a.createElement("button",{"aria-label":"".concat("Close"," ").concat(t),className:"ActivityFrame__icon",type:"button",onClick:this.props.onClose},a.a.createElement("span",{className:"icon-cross"})))}}])&&f(n.prototype,i),r&&f(n,r),e}(i.PureComponent);g.displayName="ActivityFrameHeader";var _=n(1),E=n.n(_),w=n(27),O=n(9),x=n(4),C=n.n(x),S=n(30),D=n(367),k=C.a.oneOfType([C.a.string,C.a.number]),T={id:function(t){var e=null;if(!t.generateChildId){for(var n=arguments.length,i=new Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];(e=k.apply(void 0,[t].concat(i)))||t.id||(e=new Error("In order to properly initialize Tabs in a way that is accessible to assistive technologies (such as screen readers) an `id` or a `generateChildId` prop to TabContainer is required"))}return e},generateChildId:C.a.func,onSelect:C.a.func,activeKey:C.a.any},L={$bs_tabContainer:C.a.shape({activeKey:C.a.any,onSelect:C.a.func.isRequired,getTabId:C.a.func.isRequired,getPaneId:C.a.func.isRequired})},N=function(t){function e(){return t.apply(this,arguments)||this}Object(w.a)(e,t);var n=e.prototype;return n.getChildContext=function(){var t=this.props,e=t.activeKey,n=t.onSelect,i=t.generateChildId,a=t.id,r=i||function(t,e){return a?a+"-"+e+"-"+t:null};return{$bs_tabContainer:{activeKey:e,onSelect:n,getTabId:function(t){return r(t,"tab")},getPaneId:function(t){return r(t,"pane")}}}},n.render=function(){var t=this.props,e=t.children,n=Object(S.a)(t,["children"]);return delete n.generateChildId,delete n.onSelect,delete n.activeKey,a.a.cloneElement(a.a.Children.only(e),n)},e}(a.a.Component);N.propTypes=T,N.childContextTypes=L;var P=Object(D.a)(N,{activeKey:"onSelect"}),R=n(29),j=n(76),I=n.n(j),M=n(18),F={componentClass:I.a,animation:C.a.oneOfType([C.a.bool,I.a]),mountOnEnter:C.a.bool,unmountOnExit:C.a.bool},B={$bs_tabContainer:C.a.shape({activeKey:C.a.any})},U={$bs_tabContent:C.a.shape({bsClass:C.a.string,animation:C.a.oneOfType([C.a.bool,I.a]),activeKey:C.a.any,mountOnEnter:C.a.bool,unmountOnExit:C.a.bool,onPaneEnter:C.a.func.isRequired,onPaneExited:C.a.func.isRequired,exiting:C.a.bool.isRequired})},z=function(t){function e(e,n){var i;return(i=t.call(this,e,n)||this).handlePaneEnter=i.handlePaneEnter.bind(Object(R.a)(Object(R.a)(i))),i.handlePaneExited=i.handlePaneExited.bind(Object(R.a)(Object(R.a)(i))),i.state={activeKey:null,activeChild:null},i}Object(w.a)(e,t);var n=e.prototype;return n.getChildContext=function(){var t=this.props,e=t.bsClass,n=t.animation,i=t.mountOnEnter,a=t.unmountOnExit,r=this.state.activeKey,o=this.getContainerActiveKey(),c=null!=r&&r!==o;return{$bs_tabContent:{bsClass:e,animation:n,activeKey:null!=r?r:o,mountOnEnter:i,unmountOnExit:a,onPaneEnter:this.handlePaneEnter,onPaneExited:this.handlePaneExited,exiting:c}}},n.UNSAFE_componentWillReceiveProps=function(t){!t.animation&&this.state.activeChild&&this.setState({activeKey:null,activeChild:null})},n.componentWillUnmount=function(){this.isUnmounted=!0},n.getContainerActiveKey=function(){var t=this.context.$bs_tabContainer;return t&&t.activeKey},n.handlePaneEnter=function(t,e){return!!this.props.animation&&(e===this.getContainerActiveKey()&&(this.setState({activeKey:e,activeChild:t}),!0))},n.handlePaneExited=function(t){this.isUnmounted||this.setState((function(e){return e.activeChild!==t?null:{activeKey:null,activeChild:null}}))},n.render=function(){var t=this.props,e=t.componentClass,n=t.className,i=Object(S.a)(t,["componentClass","className"]),r=Object(M.g)(i,["animation","mountOnEnter","unmountOnExit"]),o=r[0],c=r[1];return a.a.createElement(e,Object(O.a)({},c,{className:u()(n,Object(M.e)(o,"content"))}))},e}(a.a.Component);z.propTypes=F,z.defaultProps={componentClass:"div",animation:!0,mountOnEnter:!1,unmountOnExit:!1},z.contextTypes=B,z.childContextTypes=U;var H=Object(M.a)("tab",z),K=(n(88),n(39)),G=n(189),W={eventKey:C.a.any,animation:C.a.oneOfType([C.a.bool,I.a]),id:C.a.string,"aria-labelledby":C.a.string,bsClass:C.a.string,onEnter:C.a.func,onEntering:C.a.func,onEntered:C.a.func,onExit:C.a.func,onExiting:C.a.func,onExited:C.a.func,mountOnEnter:C.a.bool,unmountOnExit:C.a.bool},q={$bs_tabContainer:C.a.shape({getTabId:C.a.func,getPaneId:C.a.func}),$bs_tabContent:C.a.shape({bsClass:C.a.string,animation:C.a.oneOfType([C.a.bool,I.a]),activeKey:C.a.any,mountOnEnter:C.a.bool,unmountOnExit:C.a.bool,onPaneEnter:C.a.func.isRequired,onPaneExited:C.a.func.isRequired,exiting:C.a.bool.isRequired})},$={$bs_tabContainer:C.a.oneOf([null])},Y=function(t){function e(e,n){var i;return(i=t.call(this,e,n)||this).handleEnter=i.handleEnter.bind(Object(R.a)(Object(R.a)(i))),i.handleExited=i.handleExited.bind(Object(R.a)(Object(R.a)(i))),i.in=!1,i}Object(w.a)(e,t);var n=e.prototype;return n.getChildContext=function(){return{$bs_tabContainer:null}},n.componentDidMount=function(){this.shouldBeIn()&&this.handleEnter()},n.componentDidUpdate=function(){this.in?this.shouldBeIn()||this.handleExited():this.shouldBeIn()&&this.handleEnter()},n.componentWillUnmount=function(){this.in&&this.handleExited()},n.getAnimation=function(){if(null!=this.props.animation)return this.props.animation;var t=this.context.$bs_tabContent;return t&&t.animation},n.handleEnter=function(){var t=this.context.$bs_tabContent;t&&(this.in=t.onPaneEnter(this,this.props.eventKey))},n.handleExited=function(){var t=this.context.$bs_tabContent;t&&(t.onPaneExited(this),this.in=!1)},n.isActive=function(){var t=this.context.$bs_tabContent,e=t&&t.activeKey;return this.props.eventKey===e},n.shouldBeIn=function(){return this.getAnimation()&&this.isActive()},n.render=function(){var t=this.props,e=t.eventKey,n=t.className,i=t.onEnter,r=t.onEntering,o=t.onEntered,c=t.onExit,s=t.onExiting,l=t.onExited,p=t.mountOnEnter,d=t.unmountOnExit,v=Object(S.a)(t,["eventKey","className","onEnter","onEntering","onEntered","onExit","onExiting","onExited","mountOnEnter","unmountOnExit"]),m=this.context,f=m.$bs_tabContent,y=m.$bs_tabContainer,h=Object(M.g)(v,["animation"]),b=h[0],A=h[1],g=this.isActive(),_=this.getAnimation(),E=null!=p?p:f&&f.mountOnEnter,w=null!=d?d:f&&f.unmountOnExit;if(!g&&!_&&w)return null;var x=!0===_?G.a:_||null;f&&(b.bsClass=Object(M.e)(f,"pane"));var C=Object(O.a)({},Object(M.d)(b),{active:g});y&&(A.id=y.getPaneId(e),A["aria-labelledby"]=y.getTabId(e));var D=a.a.createElement("div",Object(O.a)({},A,{role:"tabpanel","aria-hidden":!g,className:u()(n,C)}));if(x){var k=f&&f.exiting;return a.a.createElement(x,{in:g&&!k,onEnter:Object(K.a)(this.handleEnter,i),onEntering:r,onEntered:o,onExit:c,onExiting:s,onExited:Object(K.a)(this.handleExited,l),mountOnEnter:E,unmountOnExit:w},D)}return D},e}(a.a.Component);Y.propTypes=W,Y.contextTypes=q,Y.childContextTypes=$;var V=Object(M.a)("tab-pane",Y),J=Object(O.a)({},V.propTypes,{disabled:C.a.bool,title:C.a.node,tabClassName:C.a.string}),Z=function(t){function e(){return t.apply(this,arguments)||this}return Object(w.a)(e,t),e.prototype.render=function(){var t=Object(O.a)({},this.props);return delete t.title,delete t.disabled,delete t.tabClassName,a.a.createElement(V,t)},e}(a.a.Component);Z.propTypes=J,Z.Container=P,Z.Content=H,Z.Pane=V;var Q=Z,X=n(1090),tt=n(1091),et=n(54),nt=n(40);function it(t){return(it="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function at(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function rt(t,e){return!e||"object"!==it(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ot(t){return(ot=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ct(t,e){return(ct=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var st=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),rt(this,ot(e).apply(this,arguments))}var n,i,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ct(t,e)}(e,t),n=e,(i=[{key:"roundOrZero",value:function(t){return E.a.chain(t).round(1).defaultTo(0).value()}},{key:"toFixedDecimalsOrZero",value:function(t,e){return 100===t||0===t?t:E.a.chain(t).defaultTo(0).value().toFixed(e)}},{key:"render",value:function(){var t=this.props,e=t.effectiveScore,n=t.maxScore,i=!E.a.isNil(e),r=this.roundOrZero(n),o=i?this.toFixedDecimalsOrZero(e,2):0,c=i?this.roundOrZero(e*n/100):"--";return a.a.createElement("span",null,a.a.createElement("strong",null,"".concat(c,"/").concat(r))," (",o,"%)")}}])&&at(n.prototype,i),r&&at(n,r),e}(a.a.PureComponent);st.defaultProps={maxScore:0};var lt=n(96),ut=n.n(lt),pt=n(360);n(1175);function dt(t){return(dt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function vt(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function mt(t){return(mt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ft(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function yt(t,e){return(yt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var ht=function(t){function e(t){var n,i,a;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),i=this,(n=!(a=mt(e).call(this,t))||"object"!==dt(a)&&"function"!=typeof a?ft(i):a).handleLaunchAttempt=n.handleLaunchAttempt.bind(ft(n)),n}var n,i,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&yt(t,e)}(e,t),n=e,(i=[{key:"handleLaunchAttempt",value:function(){var t=this.props,e=t.attempt,n=t.canReactivateAttempt;(0,t.onLaunchAttempt)(e.takeId,n)}},{key:"renderReviewButton",value:function(){var t=this.props.canReactivateAttempt?pt.o:pt.I;return this.props.attempt.isDeleted?a.a.createElement("span",{className:"text-danger"},pt.q):a.a.createElement("button",{className:"btn btn-primary btn-sm ActivityAttempt__btn",onClick:this.handleLaunchAttempt},t)}},{key:"render",value:function(){var t=this.props.attempt,e=t.endTime,n=t.isDeleted,i=t.score,r=u()("ActivityAttempt__score",{"ActivityAttempt__score--deleted":n});return a.a.createElement("div",{className:"ActivityAttempt"},a.a.createElement("div",{className:"ActivityAttempt__attempt"},a.a.createElement("strong",null,pt.i," ",this.props.numberOfAttempt),a.a.createElement("br",null),a.a.createElement("span",null,pt.O," ",ut()(e).tz(ut.a.tz.guess()).format(pt.N))),a.a.createElement("div",{className:r},a.a.createElement(st,{effectiveScore:i,maxScore:this.props.activityMaxScore})),a.a.createElement("div",{className:"ActivityAttempt__review"},this.renderReviewButton()))}}])&&vt(n.prototype,i),r&&vt(n,r),e}(a.a.PureComponent),bt=n(2);function At(t){return(At="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function gt(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _t(t){return(_t=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Et(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wt(t,e){return(wt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Ot=function(t){function e(t){var n,i,a;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),i=this,(n=!(a=_t(e).call(this,t))||"object"!==At(a)&&"function"!=typeof a?Et(i):a).handleAllHistoryClick=n.handleAllHistoryClick.bind(Et(n)),n.isAttemptEligibleForReactivation=n.isAttemptEligibleForReactivation.bind(Et(n)),n}var n,i,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&wt(t,e)}(e,t),n=e,(i=[{key:"handleAllHistoryClick",value:function(){this.props.onAllHistoryClick()}},{key:"isAttemptEligibleForReactivation",value:function(t){var e=this.props,n=e.canReactivate,i=e.reactivateTakeId;return n&&i===t}},{key:"renderCollapsed",value:function(t){var e=t.length;if(e>0){var n=t[0],i=this.isAttemptEligibleForReactivation(n.takeId);return a.a.createElement("ul",{className:"ActivityOverview__list"},a.a.createElement("li",{className:"ActivityOverview__item"},a.a.createElement(ht,{activityMaxScore:this.props.activityMaxScore,attempt:n,canReactivateAttempt:i,numberOfAttempt:e,onLaunchAttempt:this.props.onLaunchAttempt})),e>1&&a.a.createElement("li",{className:"ActivityOverview__item text-center"},a.a.createElement("button",{className:"ActivityOverview__viewAll ActivityOverview__btnLink",onClick:this.handleAllHistoryClick},pt.e)))}return null}},{key:"renderExpanded",value:function(t){var e=this;return t.length>0?a.a.createElement("ul",{className:"ActivityOverview__list"},t.map((function(n,i){var r=e.isAttemptEligibleForReactivation(n.takeId);return n.status===bt.ab.COMPLETED&&a.a.createElement("li",{className:"ActivityOverview__item",key:i},a.a.createElement(ht,{activityMaxScore:e.props.activityMaxScore,attempt:n,canReactivateAttempt:r,numberOfAttempt:t.length-i,onLaunchAttempt:e.props.onLaunchAttempt}))}))):a.a.createElement("p",{className:"ActivityOverview__empty"},pt.w)}},{key:"render",value:function(){var t=this.props.activityAttempts.filter((function(t){return t.status===bt.ab.COMPLETED}));return this.props.isCollapsed?this.renderCollapsed(t):this.renderExpanded(t)}}])&&gt(n.prototype,i),r&&gt(n,r),e}(a.a.PureComponent);Ot.defaultProps={isCollapsed:!1,onAllHistoryClick:E.a.noop};n(1177);var xt=n(19);function Ct(t){return(Ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function St(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Dt(t,e){return!e||"object"!==Ct(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function kt(t){return(kt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Tt(t,e){return(Tt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Lt=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Dt(this,kt(e).apply(this,arguments))}var n,i,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Tt(t,e)}(e,t),n=e,(i=[{key:"renderStatusChip",value:function(t){var e=t.replace(/\s/g,"");return a.a.createElement("div",{className:"ActivityStatusChip ActivityStatusChip--".concat(e)},a.a.createElement("span",null,t))}},{key:"render",value:function(){var t=function(t){var e,n;switch(t){case xt.b.AUTOSUBMITTED:case xt.b.DONE:e=pt.M.SUBMITTED;break;case xt.b.DUE_SOON:e=pt.M.NOT_STARTED,n=pt.M.DUE_SOON;break;case xt.b.DUE_SOON_IN_PROGRESS:e=pt.M.IN_PROGRESS,n=pt.M.DUE_SOON;break;case xt.b.IN_PROGRESS:e=pt.M.IN_PROGRESS;break;case xt.b.NOT_STARTED:e=pt.M.NOT_STARTED;break;case xt.b.OVERDUE_CLOSED:e=pt.M.CLOSED;break;case xt.b.PAST_DUE:e=pt.M.NOT_STARTED,n=pt.M.LATE;break;case xt.b.PAST_DUE_IN_PROGRESS:e=pt.M.IN_PROGRESS,n=pt.M.LATE;break;default:e=pt.M.NOT_STARTED}return{submissionStatus:e,dueDateStatus:n}}(this.props.status),e=t.submissionStatus,n=t.dueDateStatus;return a.a.createElement("div",null,e&&this.renderStatusChip(e),n&&this.renderStatusChip(n))}}])&&St(n.prototype,i),r&&St(n,r),e}(a.a.PureComponent);n(1179);function Nt(t){return(Nt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Pt(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Rt(t,e){return!e||"object"!==Nt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function jt(t){return(jt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function It(t,e){return(It=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Mt=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Rt(this,jt(e).apply(this,arguments))}var n,i,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&It(t,e)}(e,t),n=e,(i=[{key:"render",value:function(){return a.a.createElement("span",{className:"ActivityGradingAttribute--".concat(this.props.type)},a.a.createElement("span",{className:"attr_symbol"}),pt.b[this.props.type])}}])&&Pt(n.prototype,i),r&&Pt(n,r),e}(a.a.PureComponent),Ft=function(t){return"Due Date was changed from ".concat(t," ")},Bt=function(t,e){return"".concat(t," - Recorded Score changed via import by ").concat(e,". ")},Ut=function(t,e){return"".concat(t," - Recorded Score changed by ").concat(e,". ")},zt=function(t){return"to ".concat(t,". ")},Ht=function(t,e){return"".concat(t," - Comment by ").concat(e,". ")},Kt=function(t){return ut()(t).tz(ut.a.tz.guess()).format(pt.D)},Gt=function(t){return ut.a.duration(t).minutes()};function Wt(t){return"number"==typeof t||"string"==typeof t&&!t.includes("%")?"".concat(t,"%"):t}var qt=function(t,e){var n=t.comment,i=t.createdByUser,r=t.lastModifiedDate,o=t.isImport,c=t.type,s=Kt(r);if(n&&!function(t){try{JSON.parse(t)}catch(t){return!1}return!0}(n))return function(t){var e=t.comment,n=t.createdByUser,i=t.formattedModifiedDate;return a.a.createElement("div",null,a.a.createElement("strong",null,Ht(i,n)),a.a.createElement("br",null),e)}({comment:n,createdByUser:i,formattedModifiedDate:s});var l,u=n?JSON.parse(n):{},p=u.attemptId,d=u.submissionDate,v=u.newDueDate,m=u.oldScore,f=u.oldDueDate,y=u.oldDuration,h=u.newDuration,b=u.newScore,A=u.isExtended,g=u.cncThreshold,_=u.latePenalty,E=u.lpMode,w=u.lpAsConfigured,O=u.scoreBeforeCnc,x=u.scoreAfterCnc,C=u.scoreBeforeLp,S=u.scoreAfterLp,D=u.recordedScore,k=u.isOverride,T=Wt(m),L=Wt(b),N=Wt(_),P=pt.c[u.scoreStrategy],R=Kt(f),j=Kt(v),I=Kt(d),M=e?e.findIndex((function(t){return t.id===p}))+1:null;switch(c){case 0:return a.a.createElement("div",null,a.a.createElement("strong",null,Ht(s,i)));case 10:return a.a.createElement("div",null,a.a.createElement("strong",null,(l=i,"".concat(s," - Attempt Re-opened by ").concat(l,". "))));case 1:return a.a.createElement("div",null,a.a.createElement("strong",null,o?Bt(s,i):Ut(s,i)),a.a.createElement("br",null),function(t,e){return"The score was changed from ".concat(t," to ").concat(e,". ")}(T,L));case 2:return a.a.createElement("div",null,a.a.createElement("strong",null,A?function(t,e){return"".concat(t," - Due Date extended by ").concat(e,". ")}(s,i):function(t,e){return"".concat(t," - Due Date changed by ").concat(e,". ")}(s,i)),a.a.createElement("br",null),A?"Due Date was extended from ".concat(R," "):Ft(R),0===v?"to the Course End Date. ":zt(j));case 4:return a.a.createElement("div",null,a.a.createElement("strong",null,function(t,e){return"".concat(t," - Student's Due Date changed by ").concat(e,". ")}(s,i)),a.a.createElement("br",null),Ft(R),0===v?"to the Course End Date. ":zt(j));case 5:return a.a.createElement("div",null,a.a.createElement("strong",null,o?Bt(s,i):Ut(s,i)),a.a.createElement("br",null),function(t){return"The ".concat(t," score was removed. ")}(T));case 6:return a.a.createElement("div",null,a.a.createElement("strong",null,"".concat(s," - ")),function(t,e){return"The instructor-edited score ".concat(t," was replaced by a higher student score of ").concat(e,". ")}(T,L));case 7:return a.a.createElement("div",null,a.a.createElement("strong",null,function(t,e){return"".concat(t," - Student's Activity Time Limit changed by ").concat(e,". ")}(s,i)),a.a.createElement("br",null),function(t,e){return"Time Limit changed from ".concat(t," minutes to ").concat(e," minutes. ")}(Gt(parseInt(y)),Gt(parseInt(h))));case 8:return a.a.createElement("div",null,a.a.createElement("strong",null,function(t,e){return"".concat(t," - Credit / No Credit Criteria applied - ").concat(e," Threshold. ")}(s,g)),a.a.createElement("br",null),"100%"===b?function(t,e,n,i){return"The Recorded Score was set to ".concat(t," because the ").concat(e," attempt score ").concat(n," meets or exceeds the ").concat(i," threshold. ")}(L,P,T,g):function(t,e,n,i){return"The Recorded Score was set to ".concat(t," because the ").concat(e," attempt score ").concat(n," does not meet the ").concat(i," threshold. ")}(L,P,T,g));case 9:return a.a.createElement("div",null,a.a.createElement("strong",null,function(t,e){return"".concat(t," - Late Penalty Applied To Attempt Score - ").concat(e," Penalty. ")}(s,N)),a.a.createElement("br",null),_>0?function(t,e,n){return"The score for Attempt ".concat(t," was changed from ").concat(e," to ").concat(n," because it was submitted late. ")}(M,T,L):function(t,e,n){return"Attempt ".concat(t," was submitted late and the score remained ").concat(n,". ")}(M,0,L),function(t,e){return"The Recorded Score is ".concat(t," based on the ").concat(e," Attempt Score. ")}(L,P));case 3:return a.a.createElement("div",null,a.a.createElement("strong",null,function(t,e,n){return"".concat(t," - The attempt submitted on ").concat(e," was deleted by ").concat(n,". ")}(s,I,i)));case 12:return a.a.createElement("div",null,a.a.createElement("strong",null,function(t){var e=t.formattedModifiedDate,n=t.cncThreshold,i=t.lpMode,a=t.attemptNumber,r=t.lpAsConfigured;if(!n&&!i)return"";var o=e+" - ",c="",s="",l="",u="",p="",d="Applied To Attempt ".concat(a);return n&&(c="Credit/No Credit",l=function(t){return"".concat(t,"% Threshold")}(n)),n&&i&&(p=" and "),i&&(s="Late Penalty",u=function(t){return"".concat(t,"% Penalty")}(r)),"".concat(o).concat(c).concat(p).concat(s," ").concat(d," : ").concat(l).concat(p).concat(u,". ")}({formattedModifiedDate:s,cncThreshold:g,lpMode:E,attemptNumber:M,lpAsConfigured:w})),a.a.createElement("br",null),function(t){var e=t.cncThreshold,n=t.scoreBeforeCnc,i=t.scoreAfterCnc,a=t.attemptNumber,r="";return e&&(0===i?r=function(t,e,n,i){return"The score for Attempt ".concat(t," was changed from ").concat(e,"% to ").concat(n,"% because it does not meet the ").concat(i,"% threshold. ")}(a,n,i,e):100===i&&(r=function(t,e,n,i){return"The score for Attempt ".concat(t," was changed from ").concat(e,"% to ").concat(n,"% because it meets or exceeds the ").concat(i,"% threshold. ")}(a,n,i,e))),r}({cncThreshold:g,scoreBeforeCnc:O,scoreAfterCnc:x,attemptNumber:M}),function(t){var e=t.lpMode,n=t.attemptNumber,i=t.scoreBeforeLp,a=t.scoreAfterLp;return e?function(t,e,n){return"The score for Attempt ".concat(t," was changed from ").concat(e,"% to ").concat(n,"% because it was submitted late. ")}(n,i,a):""}({lpMode:E,attemptNumber:M,scoreBeforeLp:C,scoreAfterLp:S}),function(t){var e=t.recordedScore,n=t.scoreStrategy,i=t.isOverride,a=function(t){return"The Recorded Score is ".concat(t,"%")}(e);return n||i?(a+=" based on ",a+=i?"a previous Score Override. ":function(t){return"the ".concat(t," Attempt Score. ")}(n)):a+=". ",a}({recordedScore:D,scoreStrategy:P,isOverride:k}));default:return a.a.createElement("div",null,"Unknown comment")}},$t=a.a.memo((function(t){var e=t.comment,n=t.attempts;return a.a.createElement("li",{className:"ActivityOverview__item"},qt(e,n))})),Yt=n(498),Vt=n(66),Jt=n(201),Zt=function(t){return", with ".concat(t,"% penalty to submitted score.")},Qt=function(t){return"Late submission until ".concat(t," is allowed")};n(1181);function Xt(t){return(Xt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function te(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function ee(t){return(ee=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ne(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ie(t,e){return(ie=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var ae=function(t){function e(t){var n,i,r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),i=this,r=ee(e).call(this,t),(n=!r||"object"!==Xt(r)&&"function"!=typeof r?ne(i):r).renderPasswordAttribute=function(){if(n.props.activity.isPasswordProtected)return a.a.createElement("div",{className:"ActivityOverview__passwordAttribute"},a.a.createElement(Vt.b,{whichIcon:Vt.a.PASSWORD,addClasses:"ActivityOverview__passwordIcon"}),a.a.createElement("span",{className:"ActivityOverview__passwordInfo"},pt.G))},n.handleTabOnKeyDown=function(t){t.nativeEvent.keyCode===Jt.a&&(n.handleSelectTab(n.getCurrentTabKey()),setTimeout((function(){document.getElementById("tabContent").focus()}),0))},n.handleTabContentOnKeyDown=function(t){t.nativeEvent.keyCode===Jt.b&&n.getCurrentTab().focus()},n.handleLaunchAttempt=n.handleLaunchAttempt.bind(ne(n)),n.handleLaunchNewAttempt=n.handleLaunchNewAttempt.bind(ne(n)),n.handleLaunchCurrentTake=n.handleLaunchCurrentTake.bind(ne(n)),n.handleReactivateAttempt=n.handleReactivateAttempt.bind(ne(n)),n.handleSelectTab=n.handleSelectTab.bind(ne(n)),n.handleAllCommentsClick=n.handleAllCommentsClick.bind(ne(n)),n.handleAllHistoryClick=n.handleAllHistoryClick.bind(ne(n)),n.handleDescriptionToggle=n.handleDescriptionToggle.bind(ne(n)),n.handleCloseLpWarningModal=n.handleCloseLpWarningModal.bind(ne(n)),n.openLatePenaltyWarningModal=n.openLatePenaltyWarningModal.bind(ne(n)),n.handleLpWarningContinue=n.handleLpWarningContinue.bind(ne(n)),n.state={isDescriptionCollapsed:!0,showLatePenaltyWarningModal:!1,tabKey:"detail",isReactivation:!1},n}var n,i,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ie(t,e)}(e,t),n=e,(i=[{key:"componentDidMount",value:function(){var t=document.getElementById("ActivityOverview-pane-detail");t&&t.removeAttribute("aria-labelledby")}},{key:"handleLaunchAttempt",value:function(t,e){var n=this.props,i=n.activity,a=n.onLaunchAttempt;e&&Object(et.h)(i)?this.openLatePenaltyWarningModal(e):e?this.handleReactivateAttempt():a(i,t,!0)}},{key:"handleLaunchNewAttempt",value:function(){var t=this.props;(0,t.onLaunchNextAttempt)(t.activity)}},{key:"handleLaunchCurrentTake",value:function(){var t=this.props,e=t.onLaunchAttempt,n=t.activity;e(n,n.currentTakeId)}},{key:"handleReactivateAttempt",value:function(){var t=this.props,e=t.activity;(0,t.onLaunchAttempt)(e)}},{key:"handleSelectTab",value:function(t){this.setState({tabKey:t})}},{key:"handleAllHistoryClick",value:function(){this.setState({tabKey:pt.y}),this.setFocusOnTab(pt.y)}},{key:"handleAllCommentsClick",value:function(){this.setState({tabKey:pt.m}),this.setFocusOnTab(pt.m)}},{key:"setFocusOnTab",value:function(t){var e=document.querySelector(".".concat(t," > a"));e&&e.focus()}},{key:"renderStatusChips",value:function(){var t=this.props,e=t.activity,n=t.mindapps,i=nt.a(e.appId,n),r=Object(et.k)(i),o=Object(et.d)(e,{autoSubmitSupported:r}),c=Object(et.f)(e,r);return a.a.createElement("div",{className:"ActivityOverview__status"},a.a.createElement(Lt,{status:o}),c&&a.a.createElement("span",{className:"ActivityOverview__inProgress"},pt.x))}},{key:"renderGradableElement",value:function(){var t=this.props,e=t.activity,n=t.weightedActivitiesIds,i=Object(et.c)(n,e),r=pt.l[i]||i;return i&&a.a.createElement(Mt,{type:r})}},{key:"renderLateSubmissionInfoElement",value:function(t,e){return a.a.createElement("div",null,a.a.createElement(Mt,{type:pt.B}),a.a.createElement("div",{className:"ActivityOverview__iconInfo"},function(t,e){var n=s()(t).tz(s.a.tz.guess()).format(pt.A),i=Qt(n);return i+=e>0?Zt(e):"."}(t,e)))}},{key:"renderGradingAttributes",value:function(){var t=this.props.activity,e=t.cncThreshold,n=t.latePenalty,i=t.manuallyGraded,r=t.submissionCutoffDate,o=Object(et.e)(this.props.activity);return a.a.createElement("div",{className:"ActivityOverview__gradingAttributes"},this.renderGradableElement(),i&&a.a.createElement(Mt,{type:pt.C}),o&&this.renderLateSubmissionInfoElement(r,n),e&&a.a.createElement(Mt,{type:pt.p}),this.renderPasswordAttribute())}},{key:"renderActionButton",value:function(){var t=this,e=this.props.activity,n=e.currentTakeId,i=e.takeRemaining,r={label:pt.E,classNames:u()("btn btn-default btn-block",{"btn-disabled":!i&&!n,"btn-success":i||n})},o=Object(et.h)(e);return Object(et.i)(e)&&!o||(Object(et.g)(e)?(r.label=pt.o,r.handleClick=this.handleLaunchCurrentTake):this.isPossibleToStartNextAttempt()&&(r.label=pt.L,r.handleClick=o?function(){return t.openLatePenaltyWarningModal(!1)}:this.handleLaunchNewAttempt)),a.a.createElement("button",{className:r.classNames,disabled:!r.handleClick,onClick:r.handleClick},r.label)}},{key:"isPossibleToStartNextAttempt",value:function(){var t=this.props.activity,e=t.canReactivate,n=t.dueDateExtended,i=t.takeRemaining,a=Object(et.h)(t);return i&&(n||!e||a)}},{key:"renderEndDate",value:function(t){var e=s()(t).tz(s.a.tz.guess()).format(pt.a);return a.a.createElement("span",{className:"ActivityOverview__endDate"},"".concat(pt.u," ").concat(e))}},{key:"openLatePenaltyWarningModal",value:function(t){this.setState({showLatePenaltyWarningModal:!0,isReactivation:t})}},{key:"handleCloseLpWarningModal",value:function(){this.setState({showLatePenaltyWarningModal:!1})}},{key:"handleLpWarningContinue",value:function(){this.handleCloseLpWarningModal(),this.state.isReactivation?this.handleReactivateAttempt():this.handleLaunchNewAttempt()}},{key:"handleDescriptionToggle",value:function(){this.setState({isDescriptionCollapsed:!this.state.isDescriptionCollapsed})}},{key:"renderDescription",value:function(){var t=this.props.activity.description;if(t){var e=t.length>200,n="".concat(t.substring(0,150),"..."),i=e&&this.state.isDescriptionCollapsed?n:t;return a.a.createElement("div",{className:"ActivityOverview__description"},a.a.createElement("h4",{className:"ActivityOverview__subheading"},pt.r),a.a.createElement("p",{dangerouslySetInnerHTML:{__html:i}}),e&&a.a.createElement("button",{className:"ActivityOverview__btnLink",type:"button",onClick:this.handleDescriptionToggle},this.state.isDescriptionCollapsed?pt.K:pt.J))}}},{key:"renderAttempts",value:function(){if(!E.a.isEmpty(this.props.activityAttempts)){var t=this.props.activity,e=t.effectiveScore,n=t.maxScore,i=t.maxTakes,r=t.scoreStrategy,o=t.takeRemaining,c=-1===i;return a.a.createElement("div",{className:"ActivityOverview__info ActivityOverview__attemptsInfo"},a.a.createElement("div",{className:"ActivityOverview__infoRow"},a.a.createElement("span",{className:"ActivityOverview__infoCol--label"},a.a.createElement("strong",null,pt.g)),c?a.a.createElement("span",{className:"ActivityOverview__infoCol--content"},a.a.createElement("strong",{className:"ActivityOverview__infinity"},"âˆž")," (",pt.P,")"):a.a.createElement("span",{className:"ActivityOverview__infoCol--content"},a.a.createElement("strong",null,"".concat(i-o," ").concat(pt.F," ").concat(i))," (",o," ",pt.H,")")),a.a.createElement("div",{className:"ActivityOverview__infoRow ActivityOverview__attemptOverview"},a.a.createElement("span",{className:"ActivityOverview__infoCol--label"},a.a.createElement("strong",null,pt.j),(c||i>1)&&"(".concat(pt.c[r]," ").concat(pt.k,")")),a.a.createElement("span",{className:"ActivityOverview__infoCol--content"},a.a.createElement(st,{effectiveScore:e,maxScore:n}))),a.a.createElement("div",{className:"ActivityOverview__attemptsHistory"},a.a.createElement("h4",{className:"ActivityOverview__subheading"},pt.h),a.a.createElement(Ot,{activityAttempts:this.props.activityAttempts,activityMaxScore:this.props.activity.maxScore,canReactivate:this.props.activity.canReactivate,isCollapsed:!0,reactivateTakeId:this.props.activity.reactivateTakeId,onAllHistoryClick:this.handleAllHistoryClick,onLaunchAttempt:this.handleLaunchAttempt})))}}},{key:"renderCommentsOverview",value:function(){if(!E.a.isEmpty(this.props.activityComments)){var t=this.props.activityComments[0];return a.a.createElement("div",{className:"ActivityOverview__comments"},a.a.createElement("h4",{className:"ActivityOverview__subheading"},pt.n),t&&a.a.createElement("ul",{className:"ActivityOverview__list"},a.a.createElement($t,{comment:t,attempts:this.props.activityOutcomes}),this.props.activityComments.length>1&&a.a.createElement("li",{className:"ActivityOverview__item text-center"},a.a.createElement("button",{className:"ActivityOverview__viewAll ActivityOverview__btnLink",onClick:this.handleAllCommentsClick},pt.f))))}}},{key:"getOverviewTabContent",value:function(){var t=this.props.activity,e=t.name,n=t.endDate;return a.a.createElement("div",{className:"ActivityOverview__main ActivityOverview__overview"},this.renderStatusChips(),a.a.createElement("h3",{className:"ActivityOverview__header",dangerouslySetInnerHTML:{__html:e}}),n&&this.renderEndDate(n),a.a.createElement("div",{className:"ActivityOverview__gradingRow"},this.renderGradingAttributes(),a.a.createElement("div",{className:"ActivityOverview__action"},this.renderActionButton())),this.renderDescription(),this.renderAttempts(),this.renderCommentsOverview(),a.a.createElement("div",{className:"ActivityOverview__action--bottom"},this.renderActionButton()))}},{key:"getHistoryTabContent",value:function(){return a.a.createElement("div",{className:"ActivityOverview__main ActivityOverview__historyTab"},a.a.createElement("h3",{className:"ActivityOverview__header"},pt.h),a.a.createElement(Ot,{activityAttempts:this.props.activityAttempts,activityMaxScore:this.props.activity.maxScore,canReactivate:this.props.activity.canReactivate,reactivateTakeId:this.props.activity.reactivateTakeId,onLaunchAttempt:this.handleLaunchAttempt}))}},{key:"getCommentsTabContent",value:function(){var t=this;return a.a.createElement("div",{className:"ActivityOverview__main ActivityOverview__commentsTab"},a.a.createElement("h3",{className:"ActivityOverview__header"},pt.n),this.props.activityComments.length>0?this.props.activityComments.length>0&&a.a.createElement("ul",{className:"ActivityOverview__list"},this.props.activityComments.map((function(e,n){return a.a.createElement($t,{comment:e,key:n,attempts:t.props.activityOutcomes})}))):a.a.createElement("p",{className:"ActivityOverview__empty"},pt.v))}},{key:"getCurrentTab",value:function(){return document.querySelector('.nav-tabs li :not([tabindex="-1"])')}},{key:"getCurrentTabKey",value:function(){return this.getCurrentTab().id.replace("ActivityOverview-tab-","")}},{key:"render",value:function(){var t=this.props.activity,e=t.latePenalty,n=t.submissionCutoffDate;return a.a.createElement(Q.Container,{activeKey:this.state.tabKey,id:"ActivityOverview",onSelect:this.handleSelectTab},a.a.createElement("div",{className:"ActivityOverview",onKeyDown:this.handleTabOnKeyDown,role:"tabpanel"},a.a.createElement(X.a,{bsStyle:"tabs",className:"ActivityOverview__tabs"},a.a.createElement(tt.a,{"aria-label":pt.d,className:u()("ActivityOverview__tab",pt.s),eventKey:pt.s},pt.t),a.a.createElement(tt.a,{className:u()("ActivityOverview__tab",pt.y),eventKey:pt.y},pt.z),a.a.createElement(tt.a,{className:u()("ActivityOverview__tab",pt.m),eventKey:pt.m},pt.n)),a.a.createElement("div",{onKeyDown:this.handleTabContentOnKeyDown,role:"none"},a.a.createElement(Q.Content,{id:"tabContent",tabIndex:"0",animation:!0},a.a.createElement(Q.Pane,{tabIndex:"0",eventKey:pt.s},this.getOverviewTabContent()),a.a.createElement(Q.Pane,{tabIndex:"0",eventKey:pt.y},this.getHistoryTabContent()),a.a.createElement(Q.Pane,{tabIndex:"0",eventKey:pt.m},this.getCommentsTabContent()))),this.state.showLatePenaltyWarningModal&&a.a.createElement(Yt.a,{cutoffDate:n,isReactivation:this.state.isReactivation,latePenaltyPercent:e,onHandleCancel:this.handleCloseLpWarningModal,onHandleContinue:this.handleLpWarningContinue})))}}])&&te(n.prototype,i),r&&te(n,r),e}(a.a.PureComponent);ae.defaultProps={activityAttempts:[],activityComments:[],weightedActivitiesIds:[]};var re=n(1092),oe=3e5;n(1183);function ce(t){return(ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function se(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function le(t,e){return!e||"object"!==ce(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ue(t){return(ue=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function pe(t,e){return(pe=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var de=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),le(this,ue(e).apply(this,arguments))}var n,i,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&pe(t,e)}(e,t),n=e,(i=[{key:"render",value:function(){var t=this.props,e=t.toggleDueDateReminders,n=t.formattedEndDate;return a.a.createElement("div",{className:"DueDateAlert"},a.a.createElement(re.a,{className:"DueDateAlert__alert",variant:"dark",onDismiss:e,closeLabel:""},"Your assignment is due soon at ".concat(n,". Please make sure your work is saved in order to\nreceive credit.")))}}])&&se(n.prototype,i),r&&se(n,r),e}(i.PureComponent),ve=n(368),me=n(487),fe=n(8),ye=n(1093),he=n(274),be=(n(1185),function(t){var e=t.attemptCount,n=t.currentScore,i=t.endDate,r=t.maxScore,o=t.maxTakes;return a.a.createElement(ye.a,{className:"AActivityOverview",show:!0,onHide:t.onHandleCancel},a.a.createElement(ye.a.Header,{closeButton:!0},a.a.createElement(ye.a.Title,null,"Submit Activity")),a.a.createElement(ye.a.Body,{className:"AActivityOverview__body",tabIndex:"-1"},a.a.createElement("p",null,a.a.createElement("strong",null,"Are you sure you want to submit this activity?")),a.a.createElement("div",null,function(t,e){return"This is attempt ".concat(t," of ").concat(-1===e?"unlimited attempts":e)}(e,o)),a.a.createElement("div",{className:"AActivityOverview__box"},a.a.createElement("div",{className:"AActivityOverview__label"},"Current Score"),a.a.createElement("div",{className:"AActivityOverview__score"},n||0,"/",r)),a.a.createElement("div",{className:"AActivityOverview__text"},a.a.createElement("div",null,"Incomplete answers will be graded and added to your score."),i&&a.a.createElement("div",null,"Due"," ",s()(i).tz(s.a.tz.guess()).format("MMM D, YYYY @ h:mmA z")))),a.a.createElement(ye.a.Footer,{className:"AActivityOverview__footer"},a.a.createElement(he.a,{bsStyle:"default",onClick:t.onHandleCancel},bt.h),a.a.createElement(he.a,{bsStyle:"success",onClick:t.onHandleSubmit},bt.V)))});be.displayName="AssignableActivityOverview";var Ae=a.a.memo(be),ge=n(84);function _e(t){return(_e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ee(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function we(t){return(we=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Oe(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function xe(t,e){return(xe=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Ce=function(t){function e(t){var n,i,r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),i=this,r=we(e).call(this,t),(n=!r||"object"!==_e(r)&&"function"!=typeof r?Oe(i):r).scheduleDueDateReminder=function(t){var e=n.props,i=e.activeActivity.id,a=e.requestActivityOutcome,r=t-oe;n.dueDateTimerReminder=setTimeout((function(){t<oe?n.showDueDateReminder():a(i,!0).then((function(t){t.length?t.reduce((function(t,e){return t.startTime>e.startTime?t:e})).status!==bt.ab.COMPLETED&&n.showDueDateReminder():n.showDueDateReminder()}))}),r)},n.showDueDateReminder=function(){n.setState({isShowedDueDateReminderAlert:!0})},n.scheduleAutoSubmit=function(t){var e=n.props,i=e.activeActivity.id,a=e.autoSubmitActivityAtDueDate,r=t-1e3;n.autoSubmitTimer=setTimeout((function(){a(i),n.state.isShowedDueDateReminderAlert&&n.toggleDueDateReminders()}),r)},n.getTimeRemainingUntilDueDate=function(){return n.props.activeActivity.endDate-Date.now()},n.toggleDueDateReminders=function(){var t=n.state,e=t.isShowedDueDateReminderAlert,i=t.isShowedDueDateTimeMessage;n.setState({isShowedDueDateReminderAlert:!e,isShowedDueDateTimeMessage:!i})},n.isAttemptSubmitted=function(){var t=n.props,e=t.activityOutcomes,i=t.activeActivity,a=i.id,r=i.reactivateTakeId,o=i.canReactivate,c=i.takeMode,s=t.app;if(e&&s){var l=e[a];if(s.isLTICompliant&&!s.idToLaunch)return c===bt.ab.COMPLETED;var u=l&&l.find((function(t){return t.takeId===s.idToLaunch})),p=u&&u.status===bt.ab.COMPLETED;return!(s.idToLaunch===r&&o)&&p}},n.showActivityError=function(){n.setState({hasActivityError:!0})},n.hideActivityError=function(){n.setState({hasActivityError:!1})},n.state={isShowedDueDateReminderAlert:!1,isShowedDueDateTimeMessage:!1,hasActivityError:!1},n.dueDateTimerReminder=null,n.autoSubmitTimer=null,n.timezone=s.a.tz.guess(),n.handleClose=n.handleClose.bind(Oe(n)),n.handleExpand=n.handleExpand.bind(Oe(n)),n.createIFrame=n.createIFrame.bind(Oe(n)),n.renderActivityOverview=n.renderActivityOverview.bind(Oe(n)),n.renderComponentLoader=n.renderComponentLoader.bind(Oe(n)),n.handleSubmitAssignableActivity=n.handleSubmitAssignableActivity.bind(Oe(n)),n.handleAssignableActivityModalCancel=n.handleAssignableActivityModalCancel.bind(Oe(n)),n.handleAssignableActivityModalSubmit=n.handleAssignableActivityModalSubmit.bind(Oe(n)),n.activityHeaderRef=a.a.createRef(),n}var n,i,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&xe(t,e)}(e,t),n=e,(i=[{key:"componentDidMount",value:function(){var t=this.props,e=t.isForbiddenWorkPastDueDate,n=t.activityOverview;if(e){var i=this.getTimeRemainingUntilDueDate();if(!this.isAttemptSubmitted()&&!n&&i>0&&i<2592e5){var a=Math.min(i,2147483647);this.scheduleDueDateReminder(a),this.scheduleAutoSubmit(a)}}this.activityHeaderRef.current&&this.activityHeaderRef.current.focus(),this.renderMathML(),(this.isLTIError()||this.isCLUIError())&&this.showActivityError()}},{key:"isLTIError",value:function(){return this.props.isStudent&&this.props.app&&this.props.app.isLTICompliant&&this.props.ltiLaunchedApps&&void 0!==this.props.ltiLaunchedApps[this.props.app.id]&&!0!==this.props.ltiLaunchedApps[this.props.app.id]&&void 0!==this.props.ltiLaunchedApps[this.props.app.id].error}},{key:"isCLUIError",value:function(){return this.props.isStudent&&this.props.app&&!this.props.app.isLTICompliant&&this.props.cluiLaunchedApps&&void 0!==this.props.cluiLaunchedApps[this.props.app.id]&&void 0!==this.props.cluiLaunchedApps[this.props.app.id].error}},{key:"componentDidUpdate",value:function(){this.renderMathML(),(this.isLTIError()||this.isCLUIError())&&this.showActivityError()}},{key:"componentWillUnmount",value:function(){this.dueDateTimerReminder&&clearTimeout(this.dueDateTimerReminder),this.autoSubmitTimer&&clearTimeout(this.autoSubmitTimer)}},{key:"createLTIForm",value:function(t,e){var n="".concat(t.id,"_").concat(bt.F.ACTIVITY);return a.a.createElement("div",{className:"AppDockFrame__ltiComponent"},a.a.createElement("form",{action:t.url,method:"post",ref:function(t){return e(t)},target:n},Object.keys(t.params).map((function(e){return a.a.createElement("input",{key:e,name:e,type:"hidden",value:t.params[e]})}))),a.a.createElement("iframe",{title:"Activity Frame",allowFullScreen:!0,className:"ActivityFrame__iFrame",name:n,ref:function(t){t&&(t.allow="camera *; microphone *",t.focus())}}))}},{key:"createIFrame",value:function(){if(!this.props.app.viewURI)return null;var t=this.props.app.viewURI;this.props.app.activityType===bt.c.FILE_DOWNLOAD&&(t="".concat(fe.B,"?url=").concat(this.getUnqueriedViewURI()));var e=this.props,n=e.locationId,i=e.app,r=i.activityType===bt.c.WEB_LINKS||i.activityType===bt.c.READING;return n&&r&&(t="".concat(i.viewURI,"&locationId=").concat(n)),a.a.createElement("iframe",{title:"Activity Frame",allowFullScreen:!0,className:"ActivityFrame__iFrame",frameBorder:"0",name:"".concat(this.props.app.id,"_").concat(this.props.app.launchType),ref:function(t){t&&(t.allow="camera *; microphone *",t.focus())},src:t})}},{key:"renderMathML",value:function(){o.a.Hub.Queue(["Typeset",o.a.Hub,"ActivityFrameHeader"])}},{key:"handleClose",value:function(){var t=this.props,e=t.app,n=t.onClose,i=t.onCloseActivityOverview;e?n(e):i()}},{key:"handleExpand",value:function(){this.props.onExpand()}},{key:"handleSubmitAssignableActivity",value:function(){this.props.assignableActivity.onSubmitAssignableActivityButton()}},{key:"handleAssignableActivityModalCancel",value:function(){this.props.assignableActivity.onSubmitAssignableActivityModalCancelButton()}},{key:"handleAssignableActivityModalSubmit",value:function(){this.props.assignableActivity.onSubmitAssignableActivityModalSubmitButton()}},{key:"getDownloadLink",value:function(){return this.props.app.activityType===bt.c.FILE_DOWNLOAD?"".concat(fe.B,"?url=").concat(this.getUnqueriedViewURI(),"&download=true"):null}},{key:"getUnqueriedViewURI",value:function(){return this.props.app.viewURI?this.props.app.viewURI.split("?")[0]:null}},{key:"renderActivityOverview",value:function(){var t=this.props.activityOutcomes[this.props.activityOverview.id],e=this.props.activityComments[this.props.activityOverview.id],n=this.props.activityOutcomes[this.props.activityOverview.id];return a.a.createElement("div",{className:"ActivityFrame"},a.a.createElement(g,{activityHeaderRef:this.activityHeaderRef,id:"ActivityFrameHeader",isExpandEnabled:this.props.isExpandEnabled,isFullScreen:this.props.isFullScreen,title:this.props.activityOverview.name?this.props.activityOverview.name:"Loading...",onClose:this.handleClose,onExpand:this.handleExpand}),a.a.createElement(ae,{activity:this.props.activityOverview,activityAttempts:t,activityComments:e,activityOutcomes:n,mindapps:this.props.mindapps,onLaunchAttempt:this.props.onLaunchAttempt,onLaunchNextAttempt:this.props.onLaunchNextAttempt,weightedActivitiesIds:this.props.weightedActivitiesIds}))}},{key:"renderComponentLoader",value:function(){var t=this,e=null;this.props.app.isLTICompliant?void 0===this.props.ltiLaunchedApps[this.props.app.id]||!0===this.props.ltiLaunchedApps[this.props.app.id]||this.isLTIError()||(e=function(e){return t.createLTIForm(Object.assign(t.props.app,t.props.ltiLaunchedApps[t.props.app.id]),e)}):this.isCLUIError()||(e=this.createIFrame());var n,i,r=null===e?null:{element:e,id:"".concat(this.props.app.title,"_").concat(this.props.app.id),forceReload:this.props.app.forceReload},o=this.props,c=o.app,l=o.activityComments,u=o.activityOutcomes,p=o.assignableActivity,d=Object(ve.a)(c.id,l,u),v=!!this.props.assignableActivity&&this.props.assignableActivity.showSubmitButton,m=p.showAssignableActivitySubmitModal,f=(n=this.props.activeActivity.endDate,i=this.timezone,s()(n).tz(i).format("h:mm A z"));return a.a.createElement("div",{className:"ActivityFrame"},a.a.createElement(g,{activityHasCommentsOrAttempts:d,activityOverview:this.props.activityOverview,downloadLink:this.getDownloadLink(),toggleDueDateReminders:this.toggleDueDateReminders,formattedEndDate:f,id:"ActivityFrameHeader",isExpandEnabled:this.props.isExpandEnabled,isShowedDueDateTimeMessage:this.state.isShowedDueDateTimeMessage,isFullScreen:this.props.isFullScreen,showSubmit:v,title:this.props.app.title?this.props.app.title:"Loading...",onClose:this.handleClose,onExpand:this.handleExpand,onShowActivityOverviewPage:this.props.onShowActivityOverviewPage,onSubmitAssignableActivity:this.handleSubmitAssignableActivity}),this.state.isShowedDueDateReminderAlert&&a.a.createElement(de,{formattedEndDate:f,toggleDueDateReminders:this.toggleDueDateReminders}),this.state.hasActivityError&&a.a.createElement("div",null,a.a.createElement(ge.Alert,{variant:"warning"},"This activity is not yet available.")),a.a.createElement(me.a,{elementWithId:r}),m&&a.a.createElement(Ae,{attemptCount:this.props.app.attemptCount,currentScore:this.props.assignableActivity.score,endDate:this.props.app.endDate,maxScore:this.props.assignableActivity.possibleScore,maxTakes:this.props.app.maxTakes,onHandleCancel:this.handleAssignableActivityModalCancel,onHandleSubmit:this.handleAssignableActivityModalSubmit}))}},{key:"render",value:function(){return(this.props.activityOverview?this.renderActivityOverview:this.renderComponentLoader)()}}])&&Ee(n.prototype,i),r&&Ee(n,r),e}(i.PureComponent);Ce.defaultProps={isForbiddenWorkPastDueDate:!1},Ce.displayName="ActivityFrame";var Se=n(219),De=n(148),ke=n(63),Te=n(1187),Le=n(352),Ne=n(79),Pe=n(46),Re=n(258);function je(t){return(je="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ie(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function Me(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ie(n,!0).forEach((function(e){Fe(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ie(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Fe(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Be(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Ue(t,e){return!e||"object"!==je(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ze(t){return(ze=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function He(t,e){return(He=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Ke=function(t){window&&window.addEventListener&&window.addEventListener("unload",t)},Ge=function(t){function e(){var t,n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return(n=Ue(this,(t=ze(e)).call.apply(t,[this].concat(a)))).onClose=function(){n.props.onClose({}),n.props.clearCasRenderer(),n.props.clearActivityAttempt()},n}var n,i,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&He(t,e)}(e,t),n=e,(i=[{key:"componentDidMount",value:function(){if(this.props.activityId){var t=this.props.getSoaNodeByInstanceId(this.props.activityId),e=t.startDate,n=t.endDate,i=this.props.courseCgi;this.props.createAttempt(t.activityId,{courseCgi:i,startDate:e,endDate:n}),this.props.fetchCasRenderer()}}},{key:"renderCasComponent",value:function(){var t=this.props.attempt,e=this.props.casRendererObject.data,n=e.CasCoreRenderer,i=e.platformProfile;if(!n||!t)return a.a.createElement(Re.a,null);var r=n.Component,o=n.combinedReducers,c={activityUri:t.activityCgi,courseUri:"soa:".concat(i.gtm.env,":course:").concat(t.courseCgi),userId:"thisDoesNotYetMatterWithNoRoles!"},s=Object(Te.combineReducers)(Me({},o)),l=Object(ke.createStore)(s);return a.a.createElement(Pe.Provider,{store:l},a.a.createElement(r,{assignmentContext:{},googleTagManagerContainer:i.gtm,initParams:c,onActivityReviewed:function(){},registerWindowUnloadHandler:Ke,resumeAttemptUrl:t.launchUrl}))}},{key:"render",value:function(){return a.a.createElement("div",{className:"ActivityFrame"},a.a.createElement(g,{activityHasCommentsOrAttempts:!0,activityOverview:this.props.activityOverview,endDate:0,id:"NativeActivityHeader",isExpandEnabled:this.props.isExpandEnabled,isFullScreen:this.props.isFullScreen,showSubmit:!0,title:this.props.attempt?this.props.attempt.activityCgi:"Loading...",onClose:this.onClose,onShowActivityOverviewPage:this.props.onShowActivityOverviewPage,onSubmitAssignableActivity:function(){}}),this.renderCasComponent())}}])&&Be(n.prototype,i),r&&Be(n,r),e}(i.PureComponent);var We=Me({},Le,{},Ne),qe=Object(Pe.connect)((function(t){return{casRendererObject:Object(Se.a)(t),attempt:Object(Se.b)(t),getSoaNodeByInstanceId:Object(De.c)(t)}}),We)(Ge);function $e(t){var e=t.app;return e&&e.id===bt.L?a.a.createElement(qe,t):a.a.createElement(Ce,t)}n.d(e,"ActivityComponent",(function(){return $e}));e.default=a.a.memo(Object(Pe.connect)((function(t){return{activityComments:t.LayoutContainerReducer.activityComments,activityOutcomes:t.LayoutContainerReducer.activityOutcomes,cluiLaunchedApps:t.LayoutContainerReducer.cluiLaunchedApps,ltiLaunchedApps:t.LayoutContainerReducer.ltiLaunchedApps}}))($e))}}]);
//# sourceMappingURL=10.js.map